{"failedCount":1,"prefixedPath":"src\/test\/java\/acceptance\/test\/prueba-tecnica.feature","packageQualifiedName":"src.test.java.acceptance.test.prueba-tecnica","loopIndex":-1,"relativePath":"src\/test\/java\/acceptance\/test\/prueba-tecnica.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":63532100,"millis":63.5321,"status":"passed"},"step":{"comments":["# --------------------------------------------------------------- #","#    * def noveltyUuid = co.cobre.lib.qa.util.CommonUtils.generateUUID()","#    * co.cobre.lib.qa.util.CommonUtils.wait(3)","#","#","#    * def bucketName = 'test-automation-qa'","#    * def folderRecaudoFiles = 'files-to-cash-in'","#    * def noveltyUuid = java.util.UUID.randomUUID().toString()","#    * print \"El uuid de la novedad es: \" + noveltyUuid","#","#    * def fileExtension = \".csv\"","#","#    * def fullFileName = noveltyUuid+fileExtension","#","#    # --------------------------------------------------------------- #","#    * def renameFile = FileUtils.renameFile(currentFilePath, currentFileName, newPathNewFile, noveltyUuid, fileExtension)","#    * waitTime(3)","#    * print \"El resultado de renombrar el archivo es: \" + renameFile","#    * match renameFile == true","#","#    # --------------------------------------------------------------- #","#    * print \"El bucket es: \" + bucketName","#    * print \"El folder  es: \" + folderRecaudoFiles","#    * S3ManagerInstance.uploadFileToBucket(bucketName, folderRecaudoFiles, fullFileName, newPathNewFile)","#    * waitTime(3)","#","#    # --------------------------------------------------------------- #","#    * def fileExist = S3ManagerInstance.doesFileExist(bucketName, folderRecaudoFiles, fullFileName)","#    * print \"La existencia del archivo es: \" + fileExist","#    * match fileExist == true","#","#    # --------------------------------------------------------------- #","#    * def variableMapToReplaceInQueueMessageBody =","#    \"\"\"","#    {","#    \"fileName\": '#(fullFileName)',","#    \"workplacebankCode\": '<clientCode>',","#    \"bucketName\": '#(bucketName)'","#    }","#    \"\"\"","#    * SQSManager.sendMessageToQueue('<jsonFileSqsEvents>', 'testing-recaudo-qa.fifo', variableMapToReplaceInQueueMessageBody, '<pathJsonFileSqsEvents>')","#    * waitTime(8)","# --------------------------------------------------------------- #","# Uso de API REST para obtener información de las novedades","#    * def noveltyUuid = co.cobre.lib.qa.util.CommonUtils.generateUUID()"],"line":64,"prefix":"*","index":0,"text":"def CommonUtils = Java.type('co.cobre.lib.qa.util.CommonUtils')"}},{"result":{"nanos":607024100,"millis":607.0241,"status":"passed"},"step":{"line":65,"prefix":"*","index":1,"text":"def noveltyUuid = CommonUtils.generateUUID()"}},{"result":{"nanos":3008525000,"millis":3008.525,"status":"passed"},"step":{"line":66,"prefix":"*","index":2,"text":"CommonUtils.wait(3)"}},{"result":{"nanos":18708100,"millis":18.7081,"status":"passed"},"step":{"line":67,"prefix":"*","index":3,"text":"print \"El UUID generado es: \" + noveltyUuid"},"stepLog":"12:12:11.169 [print] El UUID generado es: 272e209b-3383-4328-8485-6ca7eca0caba \n"},{"result":{"nanos":720400,"millis":0.7204,"status":"passed"},"step":{"line":68,"prefix":"Given","index":4,"text":"url 'https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/'+noveltyUuid+''"}},{"result":{"nanos":360700,"millis":0.3607,"status":"passed"},"step":{"line":69,"prefix":"And","index":5,"text":"header X-WorkplaceBankCode = 'TEST01'"}},{"result":{"nanos":10900,"millis":0.0109,"status":"passed"},"step":{"line":70,"prefix":"And","index":6,"text":"retry until responseStatus == 200 && response.cashInNovelty.status == status && response.cashInNoveltyDetailsCounters.total == total"}},{"result":{"nanos":516109400,"errorMessage":"http call failed after 518 milliseconds for url: https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/272e209b-3383-4328-8485-6ca7eca0caba\nsrc\/test\/java\/acceptance\/test\/prueba-tecnica.feature:71","millis":516.1094,"status":"failed"},"step":{"line":71,"prefix":"When","index":7,"text":"method get"},"stepLog":"12:12:11.577 request:\n1 > GET https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/272e209b-3383-4328-8485-6ca7eca0caba\n1 > X-WorkplaceBankCode: TEST01\n1 > Host: test-container-qa.prueba.co\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_322)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:12:11.687 java.net.UnknownHostException: test-container-qa.prueba.co, http call failed after 518 milliseconds for url: https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/272e209b-3383-4328-8485-6ca7eca0caba\n12:12:11.687 src\/test\/java\/acceptance\/test\/prueba-tecnica.feature:71\nWhen method get\nhttp call failed after 518 milliseconds for url: https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/272e209b-3383-4328-8485-6ca7eca0caba\nsrc\/test\/java\/acceptance\/test\/prueba-tecnica.feature:71\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"*","index":9,"text":"def totalAmount = response.cashInNovelty.totalAmount"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":74,"prefix":"*","index":10,"text":"def status = response.cashInNovelty.status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":75,"prefix":"*","index":11,"text":"def totalNovelties = response.cashInNoveltyDetailsCounters.total"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":76,"prefix":"*","index":12,"text":"def validationError = response.cashInNoveltyDetailsCounters.validationError"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":77,"prefix":"*","index":13,"text":"def created = response.cashInNoveltyDetailsCounters.created#    * match totalAmount == '<>'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":78,"prefix":"*","index":14,"text":"match getNovelty.status == 'VALIDATED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":79,"prefix":"*","index":15,"text":"match getNovelty.totalNovelties == '3'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":80,"prefix":"*","index":16,"text":"match getNovelty.validationError == '0'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":81,"prefix":"*","index":17,"text":"match getNovelty.created == '3'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":82,"prefix":"*","index":18,"text":"waitTime(3)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# --------------------------------------------------------------- #","# Uso de API REST para obtener información de las novelty-details"],"line":86,"prefix":"*","index":19,"text":"def dataWithExpectedInformation = karate.read(\"classpath:acceptance\/test\/\" + 'respuestaEsperadaDatosCorrectos.json')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"*","index":20,"text":"def pageInt = parseInt('1')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"*","index":21,"text":"def sizeInt = parseInt('3')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"Given","index":22,"text":"url 'https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/'+noveltyUuid+''+'\/novelty-details'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"And","index":23,"text":"header X-WorkplaceBankCode = 'TEST01'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":91,"prefix":"And","index":24,"text":"params {page: '0', size: '100'}"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":92,"prefix":"And","index":25,"text":"retry until responseStatus == 200 && response.content != []"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":93,"prefix":"When","index":26,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":94,"prefix":"Then","index":27,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":95,"prefix":"*","index":28,"text":"def content = response.content"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":96,"prefix":"*","index":29,"text":"match getNoveltyDetails.content contains deep dataWithExpectedInformation"}}],"line":100,"description":"","durationMillis":4214.9907,"failed":true,"error":"http call failed after 518 milliseconds for url: https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/272e209b-3383-4328-8485-6ca7eca0caba\nsrc\/test\/java\/acceptance\/test\/prueba-tecnica.feature:71","tags":["regression"],"executorName":"main","name":"Dado que se carga un archivo de recaudo con datos correctamente con usuarios que recibirán un link de pago, al procesarse el archivo se persisten en BD los recaudo creados exitosamente","startTime":1710954727321,"refId":"[1.1:100]","endTime":1710954731687,"exampleData":{"clientCode":"TEST01","pathJsonFileSqsEvents":"src\/test\/java\/acceptance\/test\/","jsonFileSqsEvents":"queueEvent.json","currentFilePath":"src\/test\/java\/acceptance\/test\/","currentFileName":"recaudoTemplateDatosCorrectos.csv","newPathNewFile":"src\/test\/resources\/testFilesToUse\/","pathJsonDataWithExpectedInformation":"src\/test\/java\/acceptance\/test\/","jsonDataWithExpectedInformation":"respuestaEsperadaDatosCorrectos.json","noveltyStatus":"VALIDATED","registerTotal":"3","validationErrorNumber":"'0'","createdNumber":"'3'","page":"1","size":"3"},"exampleIndex":0}],"callDepth":0,"name":"sample karate test script","description":"","resultDate":"2024-03-20 12:12:11 PM","durationMillis":4214.9907,"passedCount":0}