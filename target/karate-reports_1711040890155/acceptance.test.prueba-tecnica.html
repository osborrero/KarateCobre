<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="res/bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="res/karate-report.css" type="text/css"/>
    <link rel="shortcut icon" href="favicon.ico"/>
    <script type="text/javascript" src="res/jquery.min.js"></script>
    <script type="text/javascript" src="res/jquery.tablesorter.min.js"></script>
    <script type="text/javascript" src="res/jquery-ui.min.js"></script>
    <script type="text/javascript" src="res/bootstrap.min.js"></script>
    <script type="text/javascript" src="res/karate-report.js"></script>
    <script type="text/javascript" src="res/Resemble.js"></script>
    <script>
!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
posthog.init('phc_M6fKk3dSX9HjglkqPSybauGas45NINb7EgsPGU8N9g1',{
  api_host:'https://app.posthog.com',
  persistence:'localStorage',
  autocapture:false,
  capture_pageview:false,
  api_transport:'sendBeacon',
  loaded: function(posthog) { 
    posthog.identify("e58b9028-39ec-43f4-b48a-5dfe3c664230",{name:"OSVALDO"});
    posthog.capture("report_feature",{karate_version:"1.3.1",karate_meta:null});
  }
});
</script>

    <title>acceptance.test.prueba-tecnica</title>
  </head>
  <body>
    <div id="root-container">
      <div id="leftnav">
        
        <div>
  <div class="nav-logo">
    <a href="https://karatelabs.io">
      <img src="karate-labs-logo-ring.svg" alt="Karate Labs"/>
    </a>
    <div class="nav-count">
      <div id="nav-pass" class="bg-success">1</div>
      <div id="nav-fail" class="bg-danger">2</div>
    </div>
  </div>
  <div id="nav-env">
    <div></div>
  </div>
  <div id="nav-type">
    <div>Scenarios</div>
  </div>
  <div id="nav-date">
    <div>2024-03-21 12:07:35 PM</div>
  </div>
</div>

        <div class="nav-container">
          <div class="nav-item failed">
            <a href="#[1.1:84]"><span>[1.1:84]</span> <span>Dado que se carga un archivo de recaudo con datos correctamente con usuarios que recibirán un link de pago, al procesarse el archivo se persisten en BD los recaudo creados exitosamente</span></a>
          </div>
          <div class="nav-item failed">
            <a href="#[2.1:162]"><span>[2.1:162]</span> <span>Dado que se carga un archivo de recaudo con datos que contienen caracteres especiales, al procesarse el archivo se verificará la información y se persistirán en BD con el detalle del error</span></a>
          </div>
          <div class="nav-item passed">
            <a href="#[3.1:174]"><span>[3.1:174]</span> <span>Dado que se quiere Actualizar fecha de vencimiento por usuario</span></a>
          </div>
        </div>
      </div>
      <div id="content">
        <div class="page-heading alert alert-primary">
          <a href="karate-summary.html">Summary</a><span class="feature-label">|</span>
          <a href="karate-tags.html">Tags</a><span class="feature-label">|</span>
          <span class="feature-label">Feature:</span>
          <span class="feature-path">acceptance/test/prueba-tecnica.feature</span><span class="feature-label">|</span>
          <span class="feature-name">sample karate test script</span>
          <span class="feature-description"></span>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[1.1:84]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">regression</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[1.1:84]</span>
                <span class="scenario-name">Dado que se carga un archivo de recaudo con datos correctamente con usuarios que recibirán un link de pago, al procesarse el archivo se persisten en BD los recaudo creados exitosamente</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>165</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[1.1:84]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[1.1:84]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>configure retry = {count: 3, interval: 3000}</span>
      </div>
    </div>
    <div class="time-cell passed">85</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1.1:84]bg"><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># La clase S3Util se encuentra en un gestor de librerías externo al proyecto</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Imaginemos que esta clase contiene la configuración y conexión de un cliente AWS, además los métodos para subir archivos a buckets S3</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># También contiene un método para verificar si un archivo se encuentra dentro de un folder</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def S3Manager = Java.type(&#39;co.cobre.lib.qa.aws.S3Util&#39;)</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def S3ManagerInstance = new S3Manager()</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def SQSManager = karate.callSingle(&#39;../acceptance/test/instances-sqs.js&#39;)</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def waitTime = function(seconds) { java.lang.Thread.sleep(seconds * 1000) }</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># La clase FileUtils se encuentra en un gestor de librerías externo al proyecto</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Imaginemos que esta clase contiene métodos para tomar un archivo, renombrarlo y copiarlo en otra ruta</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def FileUtils = Java.type(&#39;co.cobre.lib.qa.util.FileUtils&#39;)</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def CommonUtils = Java.type(&#39;co.cobre.lib.qa.util.CommonUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">46</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[1.1:84]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def CommonFuntion = Java.type(&#39;co.cobre.lib.qa.util.CommonFuntion&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">12</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.22">
      <div class="step-ref failed">22</div>
      
      <div class="step-cell failed">
        <span>*</span>&nbsp;<span>def renameFile = FileUtils.renameFile(&#39;src/test/java/acceptance/test/&#39;, &#39;recaudoTemplateDatosCorrectos.csv&#39;, &#39;src/test/resources/testFilesToUse/&#39;, noveltyUuid, fileExtension)</span>
      </div>
    </div>
    <div class="time-cell failed">23</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="1.22">12:07:34.745 classpath:acceptance/test/prueba-tecnica.feature:22
* def renameFile = FileUtils.renameFile(&#39;src/test/java/acceptance/test/&#39;, &#39;recaudoTemplateDatosCorrectos.csv&#39;, &#39;src/test/resources/testFilesToUse/&#39;, noveltyUuid, fileExtension)
js failed:
&gt;&gt;&gt;&gt;
01: FileUtils.renameFile(&#39;src/test/java/acceptance/test/&#39;, &#39;recaudoTemplateDatosCorrectos.csv&#39;, &#39;src/test/resources/testFilesToUse/&#39;, noveltyUuid, fileExtension)
&lt;&lt;&lt;&lt;
org.graalvm.polyglot.PolyglotException: ReferenceError: &quot;FileUtils&quot; is not defined
- &lt;js&gt;.:program(Unnamed:1)

classpath:acceptance/test/prueba-tecnica.feature:22
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.23">
      <div class="step-ref skipped">23</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match renameFile == true</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.26">
      <div class="step-ref skipped">26</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>print &quot;El bucket es: &quot; + bucketName</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.27">
      <div class="step-ref skipped">27</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>print &quot;El folder  es: &quot; + folderRecaudoFiles</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.28">
      <div class="step-ref skipped">28</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>S3ManagerInstance.uploadFileToBucket(karate.bucketName, fn.folderRecaudoFiles, fullFileName, newPathNewFile)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.29">
      <div class="step-ref skipped">29</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>waitTime(3)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#--------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.32">
      <div class="step-ref skipped">32</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def fileExist = S3ManagerInstance.doesFileExist(bucketName, folderRecaudoFiles, fullFileName)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.33">
      <div class="step-ref skipped">33</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>print &quot;La existencia del archivo es: &quot; + fileExist</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.34">
      <div class="step-ref skipped">34</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match fileExist == true</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.38">
      <div class="step-ref skipped">38</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def variableMapToReplaceInQueueMessageBody =</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  <div class="preformatted" data-parent="1.38">{
&quot;fileName&quot;: &#39;#(fullFileName)&#39;,
&quot;workplacebankCode&quot;: &#39;TEST01&#39;,
&quot;bucketName&quot;: &#39;#(bucketName)&#39;
#    }
#</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.46">
      <div class="step-ref skipped">46</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>SQSManager.sendMessageToQueue(&#39;queueEvent.json&#39;, &#39;testing-recaudo-qa.fifo&#39;, variableMapToReplaceInQueueMessageBody, &#39;src/test/java/acceptance/test/&#39;)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.47">
      <div class="step-ref skipped">47</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>waitTime(8)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Uso de API REST para obtener información de las novedades</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.51">
      <div class="step-ref skipped">51</div>
      
      <div class="step-cell skipped">
        <span>Given</span>&nbsp;<span>url baseUrl + noveltyUuid</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.52">
      <div class="step-ref skipped">52</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>header X-WorkplaceBankCode = &#39;TEST01&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.53">
      <div class="step-ref skipped">53</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>retry until responseStatus == 200 &amp;&amp; response.cashInNovelty.status == status &amp;&amp; response.cashInNoveltyDetailsCounters.total == total</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.54">
      <div class="step-ref skipped">54</div>
      
      <div class="step-cell skipped">
        <span>When</span>&nbsp;<span>method get</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.55">
      <div class="step-ref skipped">55</div>
      
      <div class="step-cell skipped">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.56">
      <div class="step-ref skipped">56</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def totalAmount = response.cashInNovelty.totalAmount</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.57">
      <div class="step-ref skipped">57</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def status = response.cashInNovelty.status</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.58">
      <div class="step-ref skipped">58</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def totalNovelties = response.cashInNoveltyDetailsCounters.total</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.59">
      <div class="step-ref skipped">59</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def validationError = response.cashInNoveltyDetailsCounters.validationError</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.60">
      <div class="step-ref skipped">60</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def created = response.cashInNoveltyDetailsCounters.created#</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.61">
      <div class="step-ref skipped">61</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match totalAmount == &#39;&lt;&gt;&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.62">
      <div class="step-ref skipped">62</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match getNovelty.status == &#39;VALIDATED&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.63">
      <div class="step-ref skipped">63</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match getNovelty.totalNovelties == &#39;3&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.64">
      <div class="step-ref skipped">64</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match getNovelty.validationError == &#39;0&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.65">
      <div class="step-ref skipped">65</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match getNovelty.created == &#39;3&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.66">
      <div class="step-ref skipped">66</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>waitTime(3)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Uso de API REST para obtener información de las novelty-details</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.70">
      <div class="step-ref skipped">70</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def dataWithExpectedInformation = karate.read(&quot;classpath:acceptance/test/&quot; + &#39;respuestaEsperadaDatosCorrectos.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.71">
      <div class="step-ref skipped">71</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def pageInt = parseInt(&#39;1&#39;)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.72">
      <div class="step-ref skipped">72</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def sizeInt = parseInt(&#39;3&#39;)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.73">
      <div class="step-ref skipped">73</div>
      
      <div class="step-cell skipped">
        <span>Given</span>&nbsp;<span>url baseUrl + noveltyUuid + &#39;/&#39; + &#39;novelty-details&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.74">
      <div class="step-ref skipped">74</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>header X-WorkplaceBankCode = &#39;TEST01&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.75">
      <div class="step-ref skipped">75</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>params {page: &#39;0&#39;, size: &#39;100&#39;}</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.76">
      <div class="step-ref skipped">76</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>retry until responseStatus == 200 &amp;&amp; response.content != []</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.77">
      <div class="step-ref skipped">77</div>
      
      <div class="step-cell skipped">
        <span>When</span>&nbsp;<span>method get</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.78">
      <div class="step-ref skipped">78</div>
      
      <div class="step-cell skipped">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.79">
      <div class="step-ref skipped">79</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def content = response.content</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.80">
      <div class="step-ref skipped">80</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match getNoveltyDetails.content contains deep dataWithExpectedInformation</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[2.1:162]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">regression</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[2.1:162]</span>
                <span class="scenario-name">Dado que se carga un archivo de recaudo con datos que contienen caracteres especiales, al procesarse el archivo se verificará la información y se persistirán en BD con el detalle del error</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>666</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[2.1:162]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[2.1:162]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>configure retry = {count: 3, interval: 3000}</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2.1:162]bg"><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># La clase S3Util se encuentra en un gestor de librerías externo al proyecto</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Imaginemos que esta clase contiene la configuración y conexión de un cliente AWS, además los métodos para subir archivos a buckets S3</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># También contiene un método para verificar si un archivo se encuentra dentro de un folder</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def S3Manager = Java.type(&#39;co.cobre.lib.qa.aws.S3Util&#39;)</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def S3ManagerInstance = new S3Manager()</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def SQSManager = karate.callSingle(&#39;../acceptance/test/instances-sqs.js&#39;)</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def waitTime = function(seconds) { java.lang.Thread.sleep(seconds * 1000) }</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># La clase FileUtils se encuentra en un gestor de librerías externo al proyecto</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Imaginemos que esta clase contiene métodos para tomar un archivo, renombrarlo y copiarlo en otra ruta</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def FileUtils = Java.type(&#39;co.cobre.lib.qa.util.FileUtils&#39;)</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def CommonUtils = Java.type(&#39;co.cobre.lib.qa.util.CommonUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[2.1:162]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def CommonFuntion = Java.type(&#39;co.cobre.lib.qa.util.CommonFuntion&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.89">
      <div class="step-ref passed">89</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def bucketName = &#39;test-automation-qa&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">3</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.90">
      <div class="step-ref passed">90</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def folderRecaudoFiles = &#39;files-to-cash-in&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.91">
      <div class="step-ref passed">91</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def noveltyUuid = java.util.UUID.randomUUID().toString()</span>
      </div>
    </div>
    <div class="time-cell passed">632</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.92">
      <div class="step-ref passed">92</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print &quot;El uuid de la novedad es: &quot; + noveltyUuid</span>
      </div>
    </div>
    <div class="time-cell passed">24</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="1.92">12:07:35.420 [print] El uuid de la novedad es: 88cc91df-6b14-4e90-b47d-d7a1d520267f 
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.94">
      <div class="step-ref passed">94</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def fileExtension = &quot;.csv&quot;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.96">
      <div class="step-ref passed">96</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def fullFileName = noveltyUuid+fileExtension</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.99">
      <div class="step-ref failed">99</div>
      
      <div class="step-cell failed">
        <span>*</span>&nbsp;<span>def renameFile = FileUtils.renameFile(&#39;src/test/java/acceptance/test/&#39;, &#39;recaudoTemplateCaracteresEspeciales.csv&#39;, &#39;src/test/resources/testFilesToUse/&#39;, noveltyUuid, fileExtension)</span>
      </div>
    </div>
    <div class="time-cell failed">2</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="1.99">12:07:35.420 classpath:acceptance/test/prueba-tecnica.feature:99
* def renameFile = FileUtils.renameFile(&#39;src/test/java/acceptance/test/&#39;, &#39;recaudoTemplateCaracteresEspeciales.csv&#39;, &#39;src/test/resources/testFilesToUse/&#39;, noveltyUuid, fileExtension)
js failed:
&gt;&gt;&gt;&gt;
01: FileUtils.renameFile(&#39;src/test/java/acceptance/test/&#39;, &#39;recaudoTemplateCaracteresEspeciales.csv&#39;, &#39;src/test/resources/testFilesToUse/&#39;, noveltyUuid, fileExtension)
&lt;&lt;&lt;&lt;
org.graalvm.polyglot.PolyglotException: ReferenceError: &quot;FileUtils&quot; is not defined
- &lt;js&gt;.:program(Unnamed:1)

classpath:acceptance/test/prueba-tecnica.feature:99
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.100">
      <div class="step-ref skipped">100</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>waitTime(3)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.101">
      <div class="step-ref skipped">101</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>print &quot;El resultado de renombrar el archivo es: &quot; + renameFile</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.102">
      <div class="step-ref skipped">102</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match renameFile == true</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.105">
      <div class="step-ref skipped">105</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>print &quot;El bucket es: &quot; + bucketName</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.106">
      <div class="step-ref skipped">106</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>print &quot;El folder  es: &quot; + folderConvertedFiles</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.107">
      <div class="step-ref skipped">107</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>S3ManagerInstance.uploadFileToBucket(bucketName, folderRecaudoFiles, fullFileName, newPathNewFile)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.108">
      <div class="step-ref skipped">108</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>waitTime(3)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.111">
      <div class="step-ref skipped">111</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def fileExist = S3ManagerInstance.doesFileExist(bucketName, folderRecaudoFiles, fullFileName)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.112">
      <div class="step-ref skipped">112</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>print &quot;La existencia del archivo es: &quot; + fileExist</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.113">
      <div class="step-ref skipped">113</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match fileExist == true</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.116">
      <div class="step-ref skipped">116</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def variableMapToReplaceInQueueMessageBody =</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  <div class="preformatted" data-parent="1.116">{
&quot;fileName&quot;: &#39;#(fullFileName)&#39;,
&quot;workplacebankCode&quot;: &#39;TEST01&#39;,
&quot;bucketName&quot;: &#39;#(bucketName)&#39;
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.124">
      <div class="step-ref skipped">124</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>SQSManager.sendMessageToQueue(&#39;queueEvent.json&#39;, &#39;testing-recaudo-qa.fifo&#39;, variableMapToReplaceInQueueMessageBody, &#39;src/test/java/acceptance/test/&#39;)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.125">
      <div class="step-ref skipped">125</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>waitTime(8)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Uso de API REST para obtener información de las novedades</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.129">
      <div class="step-ref skipped">129</div>
      
      <div class="step-cell skipped">
        <span>Given</span>&nbsp;<span>url &#39;https://test-container-qa.prueba.co/v1/entity/novelties/&#39;+noveltyUuid+&#39;&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.130">
      <div class="step-ref skipped">130</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>header X-WorkplaceBankCode = &#39;TEST01&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.131">
      <div class="step-ref skipped">131</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>retry until responseStatus == 200 &amp;&amp; response.cashInNovelty.status == status &amp;&amp; response.cashInNoveltyDetailsCounters.total == total</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.132">
      <div class="step-ref skipped">132</div>
      
      <div class="step-cell skipped">
        <span>When</span>&nbsp;<span>method get</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.133">
      <div class="step-ref skipped">133</div>
      
      <div class="step-cell skipped">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.134">
      <div class="step-ref skipped">134</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def totalAmount = response.cashInNovelty.totalAmount</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.135">
      <div class="step-ref skipped">135</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def status = response.cashInNovelty.status</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.136">
      <div class="step-ref skipped">136</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def totalNovelties = response.cashInNoveltyDetailsCounters.total</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.137">
      <div class="step-ref skipped">137</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def validationError = response.cashInNoveltyDetailsCounters.validationError</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.138">
      <div class="step-ref skipped">138</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def created = response.cashInNoveltyDetailsCounters.created#</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.139">
      <div class="step-ref skipped">139</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match totalAmount == &#39;&lt;&gt;&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.140">
      <div class="step-ref skipped">140</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match getNovelty.status == &#39;VALIDATED&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.141">
      <div class="step-ref skipped">141</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match getNovelty.totalNovelties == &#39;2&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.142">
      <div class="step-ref skipped">142</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match getNovelty.validationError == &#39;2&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.143">
      <div class="step-ref skipped">143</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match getNovelty.created == &#39;0&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.144">
      <div class="step-ref skipped">144</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>waitTime(3)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Uso de API REST para obtener información de las novelty-details</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.148">
      <div class="step-ref skipped">148</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def dataWithExpectedInformation = karate.read(&quot;classpath:acceptance/test/&quot; + &#39;respuestaEsperadaCaracteresEspeciales.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.149">
      <div class="step-ref skipped">149</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def pageInt = parseInt(&#39;1&#39;)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.150">
      <div class="step-ref skipped">150</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def sizeInt = parseInt(&#39;2&#39;)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.151">
      <div class="step-ref skipped">151</div>
      
      <div class="step-cell skipped">
        <span>Given</span>&nbsp;<span>url &#39;https://test-container-qa.prueba.co/v1/entity/novelties/&#39;+noveltyUuid+&#39;&#39;+&#39;/novelty-details&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.152">
      <div class="step-ref skipped">152</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>header X-WorkplaceBankCode = &#39;TEST01&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.153">
      <div class="step-ref skipped">153</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>params {page: &#39;0&#39;, size: &#39;100&#39;}</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.154">
      <div class="step-ref skipped">154</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>retry until responseStatus == 200 &amp;&amp; response.content != []</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.155">
      <div class="step-ref skipped">155</div>
      
      <div class="step-cell skipped">
        <span>When</span>&nbsp;<span>method get</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.156">
      <div class="step-ref skipped">156</div>
      
      <div class="step-cell skipped">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.157">
      <div class="step-ref skipped">157</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def content = response.content</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.158">
      <div class="step-ref skipped">158</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match getNoveltyDetails.content contains deep dataWithExpectedInformation</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[3.1:174]">
            <div class="heading-container">
              <div class="scenario-tags">
                <a class="badge badge-primary" href="karate-tags.html">regression</a>
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[3.1:174]</span>
                <span class="scenario-name">Dado que se quiere Actualizar fecha de vencimiento por usuario</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>37</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[3.1:174]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[3.1:174]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.4">
      <div class="step-ref bg-step">4</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>configure retry = {count: 3, interval: 3000}</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3.1:174]bg"><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># La clase S3Util se encuentra en un gestor de librerías externo al proyecto</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Imaginemos que esta clase contiene la configuración y conexión de un cliente AWS, además los métodos para subir archivos a buckets S3</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># También contiene un método para verificar si un archivo se encuentra dentro de un folder</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def S3Manager = Java.type(&#39;co.cobre.lib.qa.aws.S3Util&#39;)</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def S3ManagerInstance = new S3Manager()</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def SQSManager = karate.callSingle(&#39;../acceptance/test/instances-sqs.js&#39;)</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def waitTime = function(seconds) { java.lang.Thread.sleep(seconds * 1000) }</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># La clase FileUtils se encuentra en un gestor de librerías externo al proyecto</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Imaginemos que esta clase contiene métodos para tomar un archivo, renombrarlo y copiarlo en otra ruta</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">#    * def FileUtils = Java.type(&#39;co.cobre.lib.qa.util.FileUtils&#39;)</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.15">
      <div class="step-ref bg-step">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def CommonUtils = Java.type(&#39;co.cobre.lib.qa.util.CommonUtils&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div data-parent="[3.1:174]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.16">
      <div class="step-ref bg-step">16</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def CommonFuntion = Java.type(&#39;co.cobre.lib.qa.util.CommonFuntion&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># --------------------------------------------------------------- #</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="1.167">
      <div class="step-ref passed">167</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def File = Java.type(&#39;co.cobre.lib.qa.util.ProcessesIntheFile&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">11</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.168">
      <div class="step-ref passed">168</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def mensaje = File.ModifyExpirationDate(&#39;src/test/java/acceptance/test/recaudoTemplateCaracteresEspeciales.csv&#39;,&#39;558432&#39;,&#39;2024-01-10&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">11</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.169">
      <div class="step-ref passed">169</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def newExpirationDate = File.getExpirationDate(&#39;src/test/java/acceptance/test/recaudoTemplateCaracteresEspeciales.csv&#39;,&#39;558432&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">4</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="1.170">
      <div class="step-ref passed">170</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>match newExpirationDate == &#39;2024-01-10&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">8</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
      </div>
    </div>
  </body>
</html>

